(()=>{var e={};e.id=3,e.ids=[3],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9213:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d});var r=t(482),a=t(9108),n=t(2563),l=t.n(n),i=t(8300),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(s,o);let d=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5557)),"C:\\Users\\Trinity\\Pan-Afri\\src\\app\\admin\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9234)),"C:\\Users\\Trinity\\Pan-Afri\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Trinity\\Pan-Afri\\src\\app\\admin\\page.tsx"],u="/admin/page",m={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2894:(e,s,t)=>{Promise.resolve().then(t.bind(t,9052))},9052:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>w});var r=t(2295),a=t(3729),n=t(4323),l=t(2656),i=t(1554);let o=()=>{let[e,s]=(0,a.useState)(null),[t,n]=(0,a.useState)([]),[l,o]=(0,a.useState)(!0),[d,c]=(0,a.useState)(null);(0,a.useEffect)(()=>{u()},[]);let u=async()=>{try{o(!0),c(null);let e=await i.C.getSubmissionStatistics();if(e.statistics){let t=e.statistics,r=(t.submitted||0)+(t.under_review||0)+(t.revisions_required||0)+(t.accepted||0)+(t.rejected||0);s({total:r,...t})}let t=await i.C.getAllSubmissions();if(t.submissions){let e=t.submissions.sort((e,s)=>new Date(s.submitted_at).getTime()-new Date(e.submitted_at).getTime()).slice(0,5);n(e)}}catch(e){c(e instanceof Error?e.message:"Failed to load overview data")}finally{o(!1)}},m=e=>{switch(e){case"submitted":default:return"bg-neutral-100 text-neutral-800 border-neutral-200";case"under_review":return"bg-blue-50 text-blue-800 border-blue-200";case"revisions_required":return"bg-accent-red/10 text-red-800 border-red-200";case"accepted":return"bg-accent-green/10 text-green-800 border-green-200";case"rejected":return"bg-red-50 text-red-800 border-red-200"}},x=e=>{switch(e){case"submitted":return r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})});case"under_review":return r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})});case"revisions_required":return r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})});case"accepted":return r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})});case"rejected":return r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})});default:return null}};return l?(0,r.jsxs)("div",{className:"flex items-center justify-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-green"}),r.jsx("span",{className:"ml-3 text-neutral-600",children:"Loading overview..."})]}):d?r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 text-red-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("p",{className:"text-red-800",children:d})]})}):(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:e&&Object.entries(e).map(([e,s])=>{let t="total"===e;return r.jsx("div",{className:`rounded-lg border p-4 shadow-sm ${t?"bg-gradient-to-br from-neutral-900 to-neutral-800 text-white border-neutral-700":"bg-white border-neutral-200"}`,children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:`text-sm font-medium ${t?"text-neutral-200":"text-neutral-600"} uppercase tracking-wide`,children:e.replace("_"," ")}),r.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-neutral-900"} mt-1`,children:s})]}),r.jsx("div",{className:`p-2 rounded-full ${t?"bg-neutral-700":"bg-neutral-100"}`,children:x(e)})]})},e)})}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-neutral-200 shadow-sm",children:[r.jsx("div",{className:"px-6 py-4 border-b border-neutral-200 bg-gradient-to-r from-neutral-50 to-white",children:(0,r.jsxs)("h3",{className:"text-lg font-semibold text-neutral-900 flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 mr-2 text-accent-green",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Recent Submissions"]})}),0===t.length?(0,r.jsxs)("div",{className:"p-8 text-center",children:[r.jsx("svg",{className:"w-12 h-12 text-neutral-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),r.jsx("p",{className:"text-neutral-600",children:"No submissions found"})]}):r.jsx("div",{className:"divide-y divide-neutral-200",children:t.map((e,s)=>r.jsx("div",{className:"p-6 hover:bg-neutral-50 transition-colors",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"text-sm font-medium text-neutral-900 truncate",children:e.title}),(0,r.jsxs)("p",{className:"text-sm text-neutral-600 mt-1",children:["by ",e.author_name||"Unknown Author"]}),(0,r.jsxs)("p",{className:"text-xs text-neutral-500 mt-1",children:["Submitted ",new Date(e.submitted_at).toLocaleDateString()]})]}),r.jsx("div",{className:"ml-4 flex-shrink-0",children:(0,r.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${m(e.status)}`,children:[x(e.status),r.jsx("span",{className:"ml-1 capitalize",children:e.status.replace("_"," ")})]})})]})},e.id))})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-neutral-200 shadow-sm",children:[r.jsx("div",{className:"px-6 py-4 border-b border-neutral-200 bg-gradient-to-r from-neutral-50 to-white",children:(0,r.jsxs)("h3",{className:"text-lg font-semibold text-neutral-900 flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 mr-2 text-accent-red",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Quick Actions"]})}),r.jsx("div",{className:"p-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx("button",{className:"flex items-center justify-center p-4 border-2 border-dashed border-neutral-300 rounded-lg hover:border-accent-green hover:bg-accent-green/5 transition-colors group",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("svg",{className:"w-8 h-8 text-neutral-400 group-hover:text-accent-green mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),r.jsx("p",{className:"text-sm font-medium text-neutral-600 group-hover:text-accent-green",children:"Assign Reviewers"})]})}),r.jsx("button",{className:"flex items-center justify-center p-4 border-2 border-dashed border-neutral-300 rounded-lg hover:border-accent-red hover:bg-accent-red/5 transition-colors group",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("svg",{className:"w-8 h-8 text-neutral-400 group-hover:text-accent-red mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),r.jsx("p",{className:"text-sm font-medium text-neutral-600 group-hover:text-accent-red",children:"Update Status"})]})}),r.jsx("button",{className:"flex items-center justify-center p-4 border-2 border-dashed border-neutral-300 rounded-lg hover:border-neutral-900 hover:bg-neutral-900/5 transition-colors group",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("svg",{className:"w-8 h-8 text-neutral-400 group-hover:text-neutral-900 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),r.jsx("p",{className:"text-sm font-medium text-neutral-600 group-hover:text-neutral-900",children:"Manage Users"})]})}),r.jsx("button",{className:"flex items-center justify-center p-4 border-2 border-dashed border-neutral-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors group",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("svg",{className:"w-8 h-8 text-neutral-400 group-hover:text-blue-500 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),r.jsx("p",{className:"text-sm font-medium text-neutral-600 group-hover:text-blue-500",children:"Bulk Operations"})]})})]})})]})]})},d="http://localhost:5000";class c{getAuthHeaders(){let e=localStorage.getItem("token");return{"Content-Type":"application/json",...e&&{Authorization:`Bearer ${e}`}}}async handleResponse(e){if(!e.ok)throw Error((await e.json().catch(()=>({}))).message||`HTTP error! status: ${e.status}`);return e.json()}async getUsers(e=1,s=10){let t=await fetch(`${d}/users?page=${e}&limit=${s}`,{method:"GET",headers:this.getAuthHeaders()});return this.handleResponse(t)}async getUserById(e){let s=await fetch(`${d}/users/${e}`,{method:"GET",headers:this.getAuthHeaders()});return this.handleResponse(s)}async updateUser(e,s){let t=await fetch(`${d}/users/${e}`,{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(s)});return this.handleResponse(t)}async updateUserRole(e,s){let t=await fetch(`${d}/users/${e}/role`,{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify({role:s})});return this.handleResponse(t)}async deleteUser(e){let s=await fetch(`${d}/users/${e}`,{method:"DELETE",headers:this.getAuthHeaders()});return this.handleResponse(s)}async searchUsers(e){let s=await fetch(`${d}/users/search?q=${encodeURIComponent(e)}`,{method:"GET",headers:this.getAuthHeaders()});return this.handleResponse(s)}async getUsersByRole(e){let s=await fetch(`${d}/users/role/${e}`,{method:"GET",headers:this.getAuthHeaders()});return this.handleResponse(s)}async getUserStats(){let e=await fetch(`${d}/users/stats`,{method:"GET",headers:this.getAuthHeaders()});return this.handleResponse(e)}async createUser(e){let s=await fetch(`${d}/users`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(e)});return this.handleResponse(s)}async getAllUsers(){let e=await fetch(`${d}/users/all`,{method:"GET",headers:this.getAuthHeaders()});return this.handleResponse(e)}}let u=new c,m=()=>{let[e,s]=(0,a.useState)([]),[t,n]=(0,a.useState)([]),[l,o]=(0,a.useState)(null),[d,c]=(0,a.useState)(!0),[m,x]=(0,a.useState)(null),[h,b]=(0,a.useState)(null);(0,a.useEffect)(()=>{p()},[]);let p=async()=>{try{c(!0),x(null);let e=await i.C.getSubmissionsPendingReview();e.submissions&&s(e.submissions);let t=await u.getUsersByRole("reviewer");t.data&&n(t.data)}catch(e){x(e instanceof Error?e.message:"Failed to load data")}finally{c(!1)}},g=async(e,s)=>{try{b(e),console.log(`Assigning reviewer ${s} to submission ${e}`),await p()}catch(e){x(e instanceof Error?e.message:"Failed to assign reviewer")}finally{b(null)}},j=e=>{switch(e){case"submitted":default:return"bg-neutral-100 text-neutral-800 border-neutral-200";case"under_review":return"bg-blue-50 text-blue-800 border-blue-200"}};return d?(0,r.jsxs)("div",{className:"flex items-center justify-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-green"}),r.jsx("span",{className:"ml-3 text-neutral-600",children:"Loading reviewer assignments..."})]}):m?r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 text-red-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("p",{className:"text-red-800",children:m})]})}):(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg border border-neutral-200 shadow-sm",children:(0,r.jsxs)("div",{className:"px-6 py-4 border-b border-neutral-200 bg-gradient-to-r from-accent-green/5 to-white",children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold text-neutral-900 flex items-center",children:[r.jsx("svg",{className:"w-6 h-6 mr-3 text-accent-green",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"Reviewer Assignment"]}),r.jsx("p",{className:"text-neutral-600 mt-1",children:"Assign reviewers to submissions pending review"})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("div",{className:"bg-white rounded-lg border border-neutral-200 p-6 shadow-sm",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 bg-accent-red/10 rounded-full",children:r.jsx("svg",{className:"w-6 h-6 text-accent-red",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-neutral-600",children:"Pending Assignment"}),r.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:e.length})]})]})}),r.jsx("div",{className:"bg-white rounded-lg border border-neutral-200 p-6 shadow-sm",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 bg-accent-green/10 rounded-full",children:r.jsx("svg",{className:"w-6 h-6 text-accent-green",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-neutral-600",children:"Available Reviewers"}),r.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:t.length})]})]})}),r.jsx("div",{className:"bg-white rounded-lg border border-neutral-200 p-6 shadow-sm",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 bg-neutral-100 rounded-full",children:r.jsx("svg",{className:"w-6 h-6 text-neutral-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-neutral-600",children:"Avg. Reviews per Reviewer"}),r.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:"2.3"})]})]})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-neutral-200 shadow-sm",children:[r.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:r.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Submissions Pending Review Assignment"})}),0===e.length?(0,r.jsxs)("div",{className:"p-8 text-center",children:[r.jsx("svg",{className:"w-12 h-12 text-neutral-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),r.jsx("p",{className:"text-neutral-600",children:"No submissions pending reviewer assignment"})]}):r.jsx("div",{className:"divide-y divide-neutral-200",children:e.map(e=>r.jsx("div",{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h4",{className:"text-lg font-medium text-neutral-900 truncate",children:e.title}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${j(e.status)}`,children:e.status.replace("_"," ").toUpperCase()})]}),(0,r.jsxs)("p",{className:"text-sm text-neutral-600 mb-2",children:["by ",e.author_name||"Unknown Author"]}),(0,r.jsxs)("p",{className:"text-xs text-neutral-500",children:["Submitted ",new Date(e.submitted_at).toLocaleDateString()]}),r.jsx("div",{className:"mt-3",children:r.jsx("p",{className:"text-sm text-neutral-700 line-clamp-2",children:e.abstract})}),e.keywords&&e.keywords.length>0&&r.jsx("div",{className:"mt-3",children:(0,r.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.keywords.slice(0,3).map((e,s)=>r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-neutral-100 text-neutral-800",children:e},s)),e.keywords.length>3&&(0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-neutral-100 text-neutral-800",children:["+",e.keywords.length-3," more"]})]})})]}),r.jsx("div",{className:"ml-6 flex-shrink-0 w-80",children:(0,r.jsxs)("div",{className:"bg-neutral-50 rounded-lg p-4 border border-neutral-200",children:[r.jsx("h5",{className:"text-sm font-medium text-neutral-900 mb-3",children:"Assign Reviewers"}),r.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:t.map(s=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-2 bg-white rounded border border-neutral-200",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("p",{className:"text-sm font-medium text-neutral-900 truncate",children:[s.first_name," ",s.last_name]}),r.jsx("p",{className:"text-xs text-neutral-500 truncate",children:s.affiliation})]}),r.jsx("button",{onClick:()=>g(e.id,s.id),disabled:h===e.id,className:"ml-2 px-3 py-1 text-xs font-medium bg-accent-green text-white rounded hover:bg-accent-green/80 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:h===e.id?r.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b border-white"}):"Assign"})]},s.id))}),0===t.length&&r.jsx("p",{className:"text-sm text-neutral-500 text-center py-4",children:"No reviewers available"})]})})]})},e.id))})]})]})},x=()=>{let[e,s]=(0,a.useState)([]),[t,n]=(0,a.useState)([]),[l,o]=(0,a.useState)("all"),[d,c]=(0,a.useState)(""),[u,m]=(0,a.useState)(!0),[x,h]=(0,a.useState)(null),[b,p]=(0,a.useState)(null),[g,j]=(0,a.useState)(null),[f,v]=(0,a.useState)(!1),[w,N]=(0,a.useState)("submitted"),[y,k]=(0,a.useState)("");(0,a.useEffect)(()=>{C()},[]),(0,a.useEffect)(()=>{L()},[e,l,d]);let C=async()=>{try{m(!0),h(null);let e=await i.C.getAllSubmissions();e.submissions&&s(e.submissions)}catch(e){h(e instanceof Error?e.message:"Failed to load submissions")}finally{m(!1)}},L=()=>{let s=e;"all"!==l&&(s=s.filter(e=>e.status===l)),d&&(s=s.filter(e=>e.title.toLowerCase().includes(d.toLowerCase())||e.author_name&&e.author_name.toLowerCase().includes(d.toLowerCase()))),n(s)},S=async()=>{if(g)try{p(g.id),(await i.C.updateSubmissionStatus(g.id,{status:w,editor_comments:y})).message&&(s(e=>e.map(e=>e.id===g.id?{...e,status:w,editor_comments:y}:e)),v(!1),j(null),k(""))}catch(e){h(e instanceof Error?e.message:"Failed to update submission status")}finally{p(null)}},_=e=>{j(e),N(e.status),k(e.editor_comments||""),v(!0)},M=e=>{switch(e){case"submitted":default:return"bg-neutral-100 text-neutral-800 border-neutral-200";case"under_review":return"bg-blue-50 text-blue-800 border-blue-200";case"revisions_required":return"bg-accent-red/10 text-red-800 border-red-200";case"accepted":return"bg-accent-green/10 text-green-800 border-green-200";case"rejected":return"bg-red-50 text-red-800 border-red-200"}},A=e=>{switch(e){case"submitted":return r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})});case"under_review":return r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})});case"revisions_required":return r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})});case"accepted":return r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})});case"rejected":return r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})});default:return null}};return u?(0,r.jsxs)("div",{className:"flex items-center justify-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-green"}),r.jsx("span",{className:"ml-3 text-neutral-600",children:"Loading submissions..."})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg border border-neutral-200 shadow-sm",children:(0,r.jsxs)("div",{className:"px-6 py-4 border-b border-neutral-200 bg-gradient-to-r from-accent-red/5 to-white",children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold text-neutral-900 flex items-center",children:[r.jsx("svg",{className:"w-6 h-6 mr-3 text-accent-red",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Submission Status Management"]}),r.jsx("p",{className:"text-neutral-600 mt-1",children:"Update submission statuses and manage the review process"})]})}),r.jsx("div",{className:"bg-white rounded-lg border border-neutral-200 shadow-sm p-6",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Search Submissions"}),r.jsx("input",{type:"text",placeholder:"Search by title or author...",value:d,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-green focus:border-transparent"})]}),(0,r.jsxs)("div",{className:"md:w-48",children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Filter by Status"}),(0,r.jsxs)("select",{value:l,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-green focus:border-transparent",children:[r.jsx("option",{value:"all",children:"All Statuses"}),r.jsx("option",{value:"submitted",children:"Submitted"}),r.jsx("option",{value:"under_review",children:"Under Review"}),r.jsx("option",{value:"revisions_required",children:"Revisions Required"}),r.jsx("option",{value:"accepted",children:"Accepted"}),r.jsx("option",{value:"rejected",children:"Rejected"})]})]})]})}),x&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 text-red-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("p",{className:"text-red-800",children:x})]})}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-neutral-200 shadow-sm",children:[r.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:(0,r.jsxs)("h3",{className:"text-lg font-semibold text-neutral-900",children:["Submissions (",t.length,")"]})}),0===t.length?(0,r.jsxs)("div",{className:"p-8 text-center",children:[r.jsx("svg",{className:"w-12 h-12 text-neutral-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),r.jsx("p",{className:"text-neutral-600",children:"No submissions found"})]}):r.jsx("div",{className:"divide-y divide-neutral-200",children:t.map(e=>r.jsx("div",{className:"p-6 hover:bg-neutral-50 transition-colors",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h4",{className:"text-lg font-medium text-neutral-900 truncate",children:e.title}),(0,r.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${M(e.status)}`,children:[A(e.status),r.jsx("span",{className:"ml-1 capitalize",children:e.status.replace("_"," ")})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-neutral-600 mb-3",children:[(0,r.jsxs)("span",{children:["by ",e.author_name||"Unknown Author"]}),r.jsx("span",{children:"•"}),(0,r.jsxs)("span",{children:["Submitted ",new Date(e.submitted_at).toLocaleDateString()]}),e.updated_at&&e.updated_at!==e.submitted_at&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("span",{children:"•"}),(0,r.jsxs)("span",{children:["Updated ",new Date(e.updated_at).toLocaleDateString()]})]})]}),r.jsx("p",{className:"text-sm text-neutral-700 line-clamp-2 mb-3",children:e.abstract}),e.editor_comments&&(0,r.jsxs)("div",{className:"bg-neutral-50 border border-neutral-200 rounded-md p-3 mb-3",children:[r.jsx("p",{className:"text-xs font-medium text-neutral-600 mb-1",children:"Editor Comments:"}),r.jsx("p",{className:"text-sm text-neutral-700",children:e.editor_comments})]}),e.keywords&&e.keywords.length>0&&(0,r.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.keywords.slice(0,5).map((e,s)=>r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-neutral-100 text-neutral-800",children:e},s)),e.keywords.length>5&&(0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-neutral-100 text-neutral-800",children:["+",e.keywords.length-5," more"]})]})]}),(0,r.jsxs)("div",{className:"ml-6 flex-shrink-0 flex flex-col space-y-2",children:[r.jsx("button",{onClick:()=>_(e),disabled:b===e.id,className:"px-4 py-2 bg-accent-green text-white rounded-md hover:bg-accent-green/80 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm font-medium",children:b===e.id?(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b border-white mr-2"}),"Updating..."]}):"Update Status"}),e.manuscript_url&&r.jsx("a",{href:e.manuscript_url,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 border border-neutral-300 text-neutral-700 rounded-md hover:bg-neutral-50 transition-colors text-sm font-medium text-center",children:"View Manuscript"})]})]})},e.id))})]}),f&&g&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Update Submission Status"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Submission"}),r.jsx("p",{className:"text-sm text-neutral-600 bg-neutral-50 p-2 rounded border",children:g.title})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"New Status"}),(0,r.jsxs)("select",{value:w,onChange:e=>N(e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-green focus:border-transparent",children:[r.jsx("option",{value:"submitted",children:"Submitted"}),r.jsx("option",{value:"under_review",children:"Under Review"}),r.jsx("option",{value:"revisions_required",children:"Revisions Required"}),r.jsx("option",{value:"accepted",children:"Accepted"}),r.jsx("option",{value:"rejected",children:"Rejected"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Editor Comments (Optional)"}),r.jsx("textarea",{value:y,onChange:e=>k(e.target.value),rows:4,className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-green focus:border-transparent",placeholder:"Add comments for the author..."})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{onClick:()=>{v(!1),j(null),k("")},className:"px-4 py-2 border border-neutral-300 text-neutral-700 rounded-md hover:bg-neutral-50 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:S,disabled:b===g.id,className:"px-4 py-2 bg-accent-green text-white rounded-md hover:bg-accent-green/80 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:b===g.id?"Updating...":"Update Status"})]})]})})]})},h=()=>{let[e,s]=(0,a.useState)([]),[t,n]=(0,a.useState)([]),[l,i]=(0,a.useState)(null),[o,d]=(0,a.useState)("all"),[c,m]=(0,a.useState)(""),[x,h]=(0,a.useState)(!0),[b,p]=(0,a.useState)(null),[g,j]=(0,a.useState)(!1),[f,v]=(0,a.useState)(!1),[w,N]=(0,a.useState)(null),[y,k]=(0,a.useState)(!1),[C,L]=(0,a.useState)(!1),[S,_]=(0,a.useState)(null),[M,A]=(0,a.useState)({email:"",password:"",first_name:"",last_name:"",affiliation:"",role:"author"}),[$,E]=(0,a.useState)({first_name:"",last_name:"",affiliation:"",email:"",role:"author"});(0,a.useEffect)(()=>{B(),V()},[]),(0,a.useEffect)(()=>{T()},[e,o,c]);let B=async()=>{try{h(!0),p(null);let e=await u.getAllUsers();e.data&&s(e.data)}catch(e){p(e instanceof Error?e.message:"Failed to load users")}finally{h(!1)}},V=async()=>{try{let e=await u.getUserStats();e.data&&i(e.data)}catch(e){console.error("Failed to load user stats:",e)}},T=()=>{let s=e;"all"!==o&&(s=s.filter(e=>e.role===o)),c&&(s=s.filter(e=>e.first_name.toLowerCase().includes(c.toLowerCase())||e.last_name.toLowerCase().includes(c.toLowerCase())||e.email.toLowerCase().includes(c.toLowerCase())||e.affiliation.toLowerCase().includes(c.toLowerCase()))),n(s)},z=async()=>{try{k(!0),p(null);let e=await u.createUser(M);e.success&&e.data&&(s(s=>[...s,e.data]),j(!1),A({email:"",password:"",first_name:"",last_name:"",affiliation:"",role:"author"}),await V())}catch(e){p(e instanceof Error?e.message:"Failed to create user")}finally{k(!1)}},W=async()=>{if(w)try{L(!0),p(null);let e=await u.updateUser(w.id,{first_name:$.first_name,last_name:$.last_name,affiliation:$.affiliation,email:$.email});e.success&&e.data&&(s(s=>s.map(s=>s.id===w.id?e.data:s)),v(!1),N(null))}catch(e){p(e instanceof Error?e.message:"Failed to update user")}finally{L(!1)}},U=async e=>{if(confirm("Are you sure you want to delete this user? This action cannot be undone."))try{_(e),p(null),(await u.deleteUser(e)).success&&(s(s=>s.filter(s=>s.id!==e)),await V())}catch(e){p(e instanceof Error?e.message:"Failed to delete user")}finally{_(null)}},H=e=>{N(e),E({first_name:e.first_name,last_name:e.last_name,affiliation:e.affiliation,email:e.email,role:e.role}),v(!0)},P=e=>{switch(e){case"admin":return"bg-accent-red/10 text-red-800 border-red-200";case"editor":return"bg-accent-green/10 text-green-800 border-green-200";case"reviewer":return"bg-blue-50 text-blue-800 border-blue-200";default:return"bg-neutral-100 text-neutral-800 border-neutral-200"}},R=e=>{switch(e){case"admin":return r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})});case"editor":return r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})});case"reviewer":return r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})});case"author":return r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})});default:return null}};return x?(0,r.jsxs)("div",{className:"flex items-center justify-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-green"}),r.jsx("span",{className:"ml-3 text-neutral-600",children:"Loading users..."})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg border border-neutral-200 shadow-sm",children:r.jsx("div",{className:"px-6 py-4 border-b border-neutral-200 bg-gradient-to-r from-neutral-900/5 to-white",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold text-neutral-900 flex items-center",children:[r.jsx("svg",{className:"w-6 h-6 mr-3 text-neutral-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),"User Management"]}),r.jsx("p",{className:"text-neutral-600 mt-1",children:"Manage user accounts and roles"})]}),(0,r.jsxs)("button",{onClick:()=>j(!0),className:"px-4 py-2 bg-accent-green text-white rounded-md hover:bg-accent-green/80 transition-colors font-medium flex items-center",children:[r.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add User"]})]})})}),l&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Object.entries(l).map(([e,s])=>r.jsx("div",{className:"bg-white rounded-lg border border-neutral-200 p-6 shadow-sm",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:`p-3 rounded-full ${P(e).replace("text-","text-").replace("border-","bg-").replace("bg-","bg-").split(" ")[0]}`,children:R(e)}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsxs)("p",{className:"text-sm font-medium text-neutral-600 capitalize",children:[e,"s"]}),r.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:s})]})]})},e))}),r.jsx("div",{className:"bg-white rounded-lg border border-neutral-200 shadow-sm p-6",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Search Users"}),r.jsx("input",{type:"text",placeholder:"Search by name, email, or affiliation...",value:c,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-green focus:border-transparent"})]}),(0,r.jsxs)("div",{className:"md:w-48",children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Filter by Role"}),(0,r.jsxs)("select",{value:o,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-green focus:border-transparent",children:[r.jsx("option",{value:"all",children:"All Roles"}),r.jsx("option",{value:"admin",children:"Admin"}),r.jsx("option",{value:"editor",children:"Editor"}),r.jsx("option",{value:"reviewer",children:"Reviewer"}),r.jsx("option",{value:"author",children:"Author"})]})]})]})}),b&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 text-red-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("p",{className:"text-red-800",children:b})]})}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-neutral-200 shadow-sm",children:[r.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:(0,r.jsxs)("h3",{className:"text-lg font-semibold text-neutral-900",children:["Users (",t.length,")"]})}),0===t.length?(0,r.jsxs)("div",{className:"p-8 text-center",children:[r.jsx("svg",{className:"w-12 h-12 text-neutral-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),r.jsx("p",{className:"text-neutral-600",children:"No users found"})]}):r.jsx("div",{className:"divide-y divide-neutral-200",children:t.map(e=>r.jsx("div",{className:"p-6 hover:bg-neutral-50 transition-colors",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-accent-green to-accent-green/80 rounded-full flex items-center justify-center",children:(0,r.jsxs)("span",{className:"text-white font-semibold text-lg",children:[e.first_name.charAt(0),e.last_name.charAt(0)]})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)("h4",{className:"text-lg font-medium text-neutral-900",children:[e.first_name," ",e.last_name]}),(0,r.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${P(e.role)}`,children:[R(e.role),r.jsx("span",{className:"ml-1 capitalize",children:e.role})]})]}),r.jsx("p",{className:"text-sm text-neutral-600",children:e.email}),r.jsx("p",{className:"text-sm text-neutral-500",children:e.affiliation}),(0,r.jsxs)("p",{className:"text-xs text-neutral-400 mt-1",children:["Joined ",new Date(e.created_at).toLocaleDateString()]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>H(e),className:"px-3 py-1.5 text-sm font-medium text-neutral-700 border border-neutral-300 rounded-md hover:bg-neutral-50 transition-colors",children:"Edit"}),r.jsx("button",{onClick:()=>U(e.id),disabled:S===e.id,className:"px-3 py-1.5 text-sm font-medium text-red-700 border border-red-300 rounded-md hover:bg-red-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:S===e.id?(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b border-red-700 mr-1"}),"Deleting..."]}):"Delete"})]})]})},e.id))})]}),g&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[r.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Create New User"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"First Name"}),r.jsx("input",{type:"text",value:M.first_name,onChange:e=>A(s=>({...s,first_name:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-green focus:border-transparent",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Last Name"}),r.jsx("input",{type:"text",value:M.last_name,onChange:e=>A(s=>({...s,last_name:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-green focus:border-transparent",required:!0})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Email"}),r.jsx("input",{type:"email",value:M.email,onChange:e=>A(s=>({...s,email:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-green focus:border-transparent",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Password"}),r.jsx("input",{type:"password",value:M.password,onChange:e=>A(s=>({...s,password:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-green focus:border-transparent",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Affiliation"}),r.jsx("input",{type:"text",value:M.affiliation,onChange:e=>A(s=>({...s,affiliation:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-green focus:border-transparent",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Role"}),(0,r.jsxs)("select",{value:M.role,onChange:e=>A(s=>({...s,role:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-green focus:border-transparent",children:[r.jsx("option",{value:"author",children:"Author"}),r.jsx("option",{value:"reviewer",children:"Reviewer"}),r.jsx("option",{value:"editor",children:"Editor"}),r.jsx("option",{value:"admin",children:"Admin"})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{onClick:()=>{j(!1),A({email:"",password:"",first_name:"",last_name:"",affiliation:"",role:"author"})},className:"px-4 py-2 border border-neutral-300 text-neutral-700 rounded-md hover:bg-neutral-50 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:z,disabled:y||!M.email||!M.password||!M.first_name||!M.last_name,className:"px-4 py-2 bg-accent-green text-white rounded-md hover:bg-accent-green/80 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:y?"Creating...":"Create User"})]})]})}),f&&w&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Edit User"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"First Name"}),r.jsx("input",{type:"text",value:$.first_name,onChange:e=>E(s=>({...s,first_name:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-green focus:border-transparent",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Last Name"}),r.jsx("input",{type:"text",value:$.last_name,onChange:e=>E(s=>({...s,last_name:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-green focus:border-transparent",required:!0})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Email"}),r.jsx("input",{type:"email",value:$.email,onChange:e=>E(s=>({...s,email:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-green focus:border-transparent",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Affiliation"}),r.jsx("input",{type:"text",value:$.affiliation,onChange:e=>E(s=>({...s,affiliation:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-green focus:border-transparent",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-neutral-700 mb-2",children:"Current Role"}),(0,r.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${P(w.role)}`,children:[R(w.role),r.jsx("span",{className:"ml-1 capitalize",children:w.role})]}),r.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"Role changes require additional permissions and are not available in this interface."})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{onClick:()=>{v(!1),N(null)},className:"px-4 py-2 border border-neutral-300 text-neutral-700 rounded-md hover:bg-neutral-50 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:W,disabled:C||!$.first_name||!$.last_name||!$.email,className:"px-4 py-2 bg-accent-green text-white rounded-md hover:bg-accent-green/80 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:C?"Updating...":"Update User"})]})]})})]})},b=()=>{let[e,s]=(0,a.useState)([]),[t,n]=(0,a.useState)([]),[l,o]=(0,a.useState)(!0),[d,c]=(0,a.useState)(null),[u,m]=(0,a.useState)(!1),[x,h]=(0,a.useState)(null),[b,p]=(0,a.useState)(!1),[g,j]=(0,a.useState)(null);(0,a.useEffect)(()=>{f()},[]);let f=async()=>{try{o(!0),c(null);let e=await i.C.getAllSubmissions();e.submissions&&s(e.submissions)}catch(e){c(e instanceof Error?e.message:"Failed to load submissions")}finally{o(!1)}},v=async e=>{try{for(let s of(m(!0),h(`update-status-${e}`),t))await i.C.updateSubmissionStatus(s,{status:e});await f(),n([]),p(!1),j(null)}catch(e){c(e instanceof Error?e.message:"Failed to update submissions")}finally{m(!1),h(null)}},w=async()=>{try{for(let e of(m(!0),h("delete"),t))await i.C.deleteSubmission(e);await f(),n([]),p(!1),j(null)}catch(e){c(e instanceof Error?e.message:"Failed to delete submissions")}finally{m(!1),h(null)}},N=async()=>{try{m(!0),h("export");let s=e.filter(e=>t.includes(e.id)),r=["Title,Author,Status,Submitted Date,Keywords",...s.map(e=>[`"${e.title}"`,`"${e.author_name||"Unknown"}"`,e.status,new Date(e.submitted_at).toLocaleDateString(),`"${e.keywords?.join("; ")||""}"`].join(","))].join("\n"),a=new Blob([r],{type:"text/csv"}),l=window.URL.createObjectURL(a),i=document.createElement("a");i.href=l,i.download=`submissions-export-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(l),n([]),p(!1),j(null)}catch(e){c(e instanceof Error?e.message:"Failed to export submissions")}finally{m(!1),h(null)}},y=[{id:"accept",name:"Accept Selected",description:"Mark selected submissions as accepted",icon:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),color:"bg-accent-green text-white hover:bg-accent-green/80",action:()=>v("accepted")},{id:"reject",name:"Reject Selected",description:"Mark selected submissions as rejected",icon:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),color:"bg-accent-red text-white hover:bg-accent-red/80",action:()=>v("rejected")},{id:"under-review",name:"Set Under Review",description:"Mark selected submissions as under review",icon:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})}),color:"bg-blue-500 text-white hover:bg-blue-600",action:()=>v("under_review")},{id:"revisions",name:"Request Revisions",description:"Mark selected submissions as requiring revisions",icon:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),color:"bg-yellow-500 text-white hover:bg-yellow-600",action:()=>v("revisions_required")},{id:"export",name:"Export Selected",description:"Export selected submissions to CSV",icon:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),color:"bg-neutral-600 text-white hover:bg-neutral-700",action:N},{id:"delete",name:"Delete Selected",description:"Permanently delete selected submissions",icon:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),color:"bg-red-600 text-white hover:bg-red-700",action:w}],k=e=>{n(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},C=e=>{j(e),p(!0)},L=async()=>{g&&await g.action(t)},S=e=>{switch(e){case"submitted":default:return"bg-neutral-100 text-neutral-800 border-neutral-200";case"under_review":return"bg-blue-50 text-blue-800 border-blue-200";case"revisions_required":return"bg-accent-red/10 text-red-800 border-red-200";case"accepted":return"bg-accent-green/10 text-green-800 border-green-200";case"rejected":return"bg-red-50 text-red-800 border-red-200"}};return l?(0,r.jsxs)("div",{className:"flex items-center justify-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-green"}),r.jsx("span",{className:"ml-3 text-neutral-600",children:"Loading submissions..."})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg border border-neutral-200 shadow-sm",children:(0,r.jsxs)("div",{className:"px-6 py-4 border-b border-neutral-200 bg-gradient-to-r from-blue-50 to-white",children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold text-neutral-900 flex items-center",children:[r.jsx("svg",{className:"w-6 h-6 mr-3 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),"Bulk Operations"]}),r.jsx("p",{className:"text-neutral-600 mt-1",children:"Perform actions on multiple submissions at once"})]})}),r.jsx("div",{className:"bg-white rounded-lg border border-neutral-200 shadow-sm p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:t.length===e.length&&e.length>0,onChange:()=>{t.length===e.length?n([]):n(e.map(e=>e.id))},className:"h-4 w-4 text-accent-green focus:ring-accent-green border-neutral-300 rounded"}),(0,r.jsxs)("label",{className:"ml-2 text-sm font-medium text-neutral-700",children:["Select All (",e.length,")"]})]}),(0,r.jsxs)("div",{className:"text-sm text-neutral-600",children:[t.length," of ",e.length," submissions selected"]})]}),t.length>0&&(0,r.jsxs)("div",{className:"text-sm font-medium text-accent-green",children:[t.length," submission",1!==t.length?"s":""," ready for bulk operations"]})]})}),t.length>0&&(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-neutral-200 shadow-sm",children:[(0,r.jsxs)("div",{className:"px-6 py-4 border-b border-neutral-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Available Actions"}),(0,r.jsxs)("p",{className:"text-sm text-neutral-600 mt-1",children:["Choose an action to perform on ",t.length," selected submission",1!==t.length?"s":""]})]}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map(e=>(0,r.jsxs)("button",{onClick:()=>C(e),disabled:u,className:`p-4 rounded-lg border-2 border-dashed border-neutral-300 hover:border-solid transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed ${u&&x===e.id?"border-solid bg-neutral-100":"hover:bg-neutral-50"}`,children:[r.jsx("div",{className:"flex items-center justify-center mb-3",children:r.jsx("div",{className:`p-3 rounded-full ${e.color.split(" ")[0]}/10`,children:r.jsx("div",{className:`${e.color.split(" ")[1]}`,children:e.icon})})}),r.jsx("h4",{className:"font-medium text-neutral-900 mb-1",children:e.name}),r.jsx("p",{className:"text-sm text-neutral-600",children:e.description}),u&&x===e.id&&(0,r.jsxs)("div",{className:"mt-3 flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-accent-green"}),r.jsx("span",{className:"ml-2 text-sm text-neutral-600",children:"Processing..."})]})]},e.id))})})]}),d&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 text-red-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("p",{className:"text-red-800",children:d})]})}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-neutral-200 shadow-sm",children:[r.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:(0,r.jsxs)("h3",{className:"text-lg font-semibold text-neutral-900",children:["All Submissions (",e.length,")"]})}),0===e.length?(0,r.jsxs)("div",{className:"p-8 text-center",children:[r.jsx("svg",{className:"w-12 h-12 text-neutral-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),r.jsx("p",{className:"text-neutral-600",children:"No submissions found"})]}):r.jsx("div",{className:"divide-y divide-neutral-200",children:e.map(e=>r.jsx("div",{className:"p-6 hover:bg-neutral-50 transition-colors",children:(0,r.jsxs)("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"flex-shrink-0 pt-1",children:r.jsx("input",{type:"checkbox",checked:t.includes(e.id),onChange:()=>k(e.id),className:"h-4 w-4 text-accent-green focus:ring-accent-green border-neutral-300 rounded"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h4",{className:"text-lg font-medium text-neutral-900 truncate",children:e.title}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${S(e.status)}`,children:e.status.replace("_"," ").toUpperCase()})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-neutral-600 mb-2",children:[(0,r.jsxs)("span",{children:["by ",e.author_name||"Unknown Author"]}),r.jsx("span",{children:"•"}),(0,r.jsxs)("span",{children:["Submitted ",new Date(e.submitted_at).toLocaleDateString()]})]}),r.jsx("p",{className:"text-sm text-neutral-700 line-clamp-2",children:e.abstract}),e.keywords&&e.keywords.length>0&&(0,r.jsxs)("div",{className:"mt-2 flex flex-wrap gap-1",children:[e.keywords.slice(0,3).map((e,s)=>r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-neutral-100 text-neutral-800",children:e},s)),e.keywords.length>3&&(0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-neutral-100 text-neutral-800",children:["+",e.keywords.length-3," more"]})]})]})]})},e.id))})]}),b&&g&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Confirm Bulk Action"}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:`p-2 rounded-full ${g.color.split(" ")[0]}/10`,children:r.jsx("div",{className:`${g.color.split(" ")[1]}`,children:g.icon})}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-medium text-neutral-900",children:g.name}),r.jsx("p",{className:"text-sm text-neutral-600",children:g.description})]})]}),(0,r.jsxs)("div",{className:"bg-neutral-50 rounded-lg p-4 border border-neutral-200",children:[(0,r.jsxs)("p",{className:"text-sm text-neutral-700",children:["This action will affect ",r.jsx("strong",{children:t.length})," submission",1!==t.length?"s":"","."]}),"delete"===g.id&&r.jsx("p",{className:"text-sm text-red-600 mt-2 font-medium",children:"⚠️ This action cannot be undone."})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>{p(!1),j(null)},disabled:u,className:"px-4 py-2 border border-neutral-300 text-neutral-700 rounded-md hover:bg-neutral-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"}),r.jsx("button",{onClick:L,disabled:u,className:`px-4 py-2 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${g.color}`,children:u?(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b border-white mr-2"}),"Processing..."]}):`Confirm ${g.name}`})]})]})})]})};var p=t(4153);let g=()=>{let[e,s]=(0,a.useState)([]),[t,n]=(0,a.useState)([]),[l,i]=(0,a.useState)(null),[o,d]=(0,a.useState)(""),[c,u]=(0,a.useState)(""),[m,x]=(0,a.useState)(!0),[h,b]=(0,a.useState)(null),[g,j]=(0,a.useState)(!1),[f,v]=(0,a.useState)(!1),[w,N]=(0,a.useState)({title:"",abstract:"",authors:[],keywords:[]});(0,a.useEffect)(()=>{y()},[]);let y=async()=>{try{x(!0),b(null);let e=await p.$.getSubmissionsReadyForPublication();e.submissions&&s(e.submissions);let t=await p.$.getVolumes();t.volumes&&n(t.volumes)}catch(e){b(e instanceof Error?e.message:"Failed to load data")}finally{x(!1)}},k=e=>{i(e),N({title:e.title,abstract:e.abstract,authors:e.co_authors||[],keywords:e.keywords||[]}),d(""),u(""),v(!0)},C=async()=>{if(l&&c)try{j(!0),b(null);let e={submission_id:l.id,issue_id:c,title:w.title,abstract:w.abstract,authors:w.authors,keywords:w.keywords};await p.$.publishArticle(e),await y(),v(!1),i(null),d(""),u("")}catch(e){b(e instanceof Error?e.message:"Failed to publish article")}finally{j(!1)}},L=e=>new Date(e).toLocaleDateString();return m?(0,r.jsxs)("div",{className:"flex items-center justify-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-green"}),r.jsx("span",{className:"ml-3 text-neutral-600",children:"Loading publication workflow..."})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg border border-neutral-200 shadow-sm",children:(0,r.jsxs)("div",{className:"px-6 py-4 border-b border-neutral-200 bg-gradient-to-r from-accent-green/5 to-white",children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold text-neutral-900 flex items-center",children:[r.jsx("svg",{className:"w-6 h-6 mr-3 text-accent-green",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"Article Publication Workflow"]}),r.jsx("p",{className:"text-neutral-600 mt-1",children:"Publish accepted submissions as articles in journal issues"})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("div",{className:"bg-white rounded-lg border border-neutral-200 p-6 shadow-sm",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 bg-accent-green/10 rounded-full",children:r.jsx("svg",{className:"w-6 h-6 text-accent-green",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-neutral-600",children:"Ready for Publication"}),r.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:e.length})]})]})}),r.jsx("div",{className:"bg-white rounded-lg border border-neutral-200 p-6 shadow-sm",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:r.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-neutral-600",children:"Active Volumes"}),r.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:t.length})]})]})}),r.jsx("div",{className:"bg-white rounded-lg border border-neutral-200 p-6 shadow-sm",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:r.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-neutral-600",children:"Total Issues"}),r.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:t.reduce((e,s)=>e+s.issues.length,0)})]})]})})]}),h&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 text-red-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("p",{className:"text-red-800",children:h})]})}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-neutral-200 shadow-sm",children:[r.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:r.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Accepted Submissions Ready for Publication"})}),0===e.length?(0,r.jsxs)("div",{className:"p-8 text-center",children:[r.jsx("svg",{className:"w-12 h-12 text-neutral-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),r.jsx("p",{className:"text-neutral-600",children:"No accepted submissions ready for publication"})]}):r.jsx("div",{className:"divide-y divide-neutral-200",children:e.map(e=>r.jsx("div",{className:"p-6 hover:bg-neutral-50 transition-colors",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h4",{className:"text-lg font-medium text-neutral-900 truncate",children:e.title}),r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-accent-green/10 text-green-800 border border-green-200",children:"Accepted"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-neutral-600 mb-3",children:[(0,r.jsxs)("span",{children:["by ",e.author_name||"Unknown Author"]}),r.jsx("span",{children:"•"}),(0,r.jsxs)("span",{children:["Accepted ",L(e.updated_at)]})]}),r.jsx("p",{className:"text-sm text-neutral-700 line-clamp-2 mb-3",children:e.abstract}),e.keywords&&e.keywords.length>0&&(0,r.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.keywords.slice(0,5).map((e,s)=>r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-neutral-100 text-neutral-800",children:e},s)),e.keywords.length>5&&(0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-neutral-100 text-neutral-800",children:["+",e.keywords.length-5," more"]})]})]}),r.jsx("div",{className:"ml-6 flex-shrink-0",children:r.jsx("button",{onClick:()=>k(e),className:"px-4 py-2 bg-accent-green text-white rounded-md hover:bg-accent-green/80 transition-colors font-medium",children:"Publish Article"})})]})},e.id))})]}),f&&l&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Publish Article"}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-neutral-50 rounded-lg p-4 border border-neutral-200",children:[r.jsx("h4",{className:"font-medium text-neutral-900 mb-2",children:"Submission Details"}),(0,r.jsxs)("p",{className:"text-sm text-neutral-600 mb-1",children:[r.jsx("strong",{children:"Title:"})," ",l.title]}),(0,r.jsxs)("p",{className:"text-sm text-neutral-600",children:[r.jsx("strong",{children:"Author:"})," ",l.author_name||"Unknown Author"]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Article Title"}),r.jsx("input",{type:"text",value:w.title,onChange:e=>N(s=>({...s,title:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-green focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Abstract"}),r.jsx("textarea",{value:w.abstract,onChange:e=>N(s=>({...s,abstract:e.target.value})),rows:4,className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-green focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Authors (one per line)"}),r.jsx("textarea",{value:w.authors.join("\n"),onChange:e=>N(s=>({...s,authors:e.target.value.split("\n").filter(e=>e.trim())})),rows:3,className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-green focus:border-transparent",placeholder:"Enter author names, one per line"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Keywords (comma-separated)"}),r.jsx("input",{type:"text",value:w.keywords.join(", "),onChange:e=>N(s=>({...s,keywords:e.target.value.split(",").map(e=>e.trim()).filter(e=>e)})),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-green focus:border-transparent",placeholder:"Enter keywords separated by commas"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Volume"}),(0,r.jsxs)("select",{value:o,onChange:e=>{d(e.target.value),u("")},className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-green focus:border-transparent",required:!0,children:[r.jsx("option",{value:"",children:"Select Volume"}),t.map(e=>(0,r.jsxs)("option",{value:e.id,children:["Volume ",e.volume_number," (",e.year,")"]},e.id))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Issue"}),(0,r.jsxs)("select",{value:c,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-green focus:border-transparent",disabled:!o,required:!0,children:[r.jsx("option",{value:"",children:"Select Issue"}),(()=>{if(!o)return[];let e=t.find(e=>e.id===o);return e?.issues||[]})().map(e=>(0,r.jsxs)("option",{value:e.id,children:["Issue ",e.issue_number]},e.id))]})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{onClick:()=>{v(!1),i(null),d(""),u("")},disabled:g,className:"px-4 py-2 border border-neutral-300 text-neutral-700 rounded-md hover:bg-neutral-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"}),r.jsx("button",{onClick:C,disabled:g||!c||!w.title.trim(),className:"px-4 py-2 bg-accent-green text-white rounded-md hover:bg-accent-green/80 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g?(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b border-white mr-2"}),"Publishing..."]}):"Publish Article"})]})]})})]})},j=()=>{let[e,s]=(0,a.useState)([]),[t,n]=(0,a.useState)(!0),[l,i]=(0,a.useState)(null),[o,d]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!1),[m,x]=(0,a.useState)(null),[h,b]=(0,a.useState)(!1),[g,j]=(0,a.useState)(null),[f,v]=(0,a.useState)({volume_number:new Date().getFullYear()-2019,year:new Date().getFullYear(),description:""}),[w,N]=(0,a.useState)({issue_number:1,volume_id:"",description:""});(0,a.useEffect)(()=>{y()},[]);let y=async()=>{try{n(!0),i(null);let e=await p.$.getVolumes();e.volumes&&s(e.volumes.sort((e,s)=>s.year-e.year||s.volume_number-e.volume_number))}catch(e){i(e instanceof Error?e.message:"Failed to load volumes")}finally{n(!1)}},k=async()=>{try{b(!0),i(null),(await p.$.createVolume(f)).volume&&(await y(),d(!1),v({volume_number:new Date().getFullYear()-2019,year:new Date().getFullYear(),description:""}))}catch(e){i(e instanceof Error?e.message:"Failed to create volume")}finally{b(!1)}},C=async()=>{try{b(!0),i(null),(await p.$.createIssue(w)).issue&&(await y(),u(!1),x(null),N({issue_number:1,volume_id:"",description:""}))}catch(e){i(e instanceof Error?e.message:"Failed to create issue")}finally{b(!1)}},L=async e=>{if(confirm("Are you sure you want to delete this volume? This will also delete all associated issues and articles."))try{j(e),i(null),await p.$.deleteVolume(e),await y()}catch(e){i(e instanceof Error?e.message:"Failed to delete volume")}finally{j(null)}},S=async e=>{if(confirm("Are you sure you want to delete this issue? This will also delete all associated articles."))try{j(e),i(null),await p.$.deleteIssue(e),await y()}catch(e){i(e instanceof Error?e.message:"Failed to delete issue")}finally{j(null)}},_=e=>{x(e),N({issue_number:e.issues.length+1,volume_id:e.id,description:""}),u(!0)},M=e=>new Date(e).toLocaleDateString();return t?(0,r.jsxs)("div",{className:"flex items-center justify-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-green"}),r.jsx("span",{className:"ml-3 text-neutral-600",children:"Loading volumes and issues..."})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg border border-neutral-200 shadow-sm",children:r.jsx("div",{className:"px-6 py-4 border-b border-neutral-200 bg-gradient-to-r from-blue-50 to-white",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold text-neutral-900 flex items-center",children:[r.jsx("svg",{className:"w-6 h-6 mr-3 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Volume & Issue Management"]}),r.jsx("p",{className:"text-neutral-600 mt-1",children:"Manage journal volumes and issues for article publication"})]}),(0,r.jsxs)("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-accent-green text-white rounded-md hover:bg-accent-green/80 transition-colors font-medium flex items-center",children:[r.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"New Volume"]})]})})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("div",{className:"bg-white rounded-lg border border-neutral-200 p-6 shadow-sm",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:r.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-neutral-600",children:"Total Volumes"}),r.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:e.length})]})]})}),r.jsx("div",{className:"bg-white rounded-lg border border-neutral-200 p-6 shadow-sm",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:r.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-neutral-600",children:"Total Issues"}),r.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:e.reduce((e,s)=>e+s.issues.length,0)})]})]})}),r.jsx("div",{className:"bg-white rounded-lg border border-neutral-200 p-6 shadow-sm",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 bg-accent-green/10 rounded-full",children:r.jsx("svg",{className:"w-6 h-6 text-accent-green",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a4 4 0 118 0v4m-4 8a2 2 0 100-4 2 2 0 000 4zm6-8a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-neutral-600",children:"Current Year"}),r.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:new Date().getFullYear()})]})]})})]}),l&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 text-red-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("p",{className:"text-red-800",children:l})]})}),r.jsx("div",{className:"space-y-4",children:0===e.length?r.jsx("div",{className:"bg-white rounded-lg border border-neutral-200 shadow-sm",children:(0,r.jsxs)("div",{className:"p-8 text-center",children:[r.jsx("svg",{className:"w-12 h-12 text-neutral-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),r.jsx("p",{className:"text-neutral-600 mb-4",children:"No volumes created yet"}),r.jsx("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-accent-green text-white rounded-md hover:bg-accent-green/80 transition-colors",children:"Create First Volume"})]})}):e.map(e=>(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-neutral-200 shadow-sm",children:[r.jsx("div",{className:"px-6 py-4 border-b border-neutral-200 bg-gradient-to-r from-blue-50 to-white",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-neutral-900",children:["Volume ",e.volume_number," (",e.year,")"]}),e.description&&r.jsx("p",{className:"text-neutral-600 mt-1",children:e.description}),(0,r.jsxs)("p",{className:"text-sm text-neutral-500 mt-1",children:["Created ",M(e.created_at)," • ",e.issues.length," issue",1!==e.issues.length?"s":""]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>_(e),className:"px-3 py-1.5 text-sm font-medium text-accent-green border border-accent-green rounded-md hover:bg-accent-green hover:text-white transition-colors",children:"Add Issue"}),r.jsx("button",{onClick:()=>L(e.id),disabled:g===e.id,className:"px-3 py-1.5 text-sm font-medium text-red-700 border border-red-300 rounded-md hover:bg-red-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g===e.id?"Deleting...":"Delete"})]})]})}),r.jsx("div",{className:"p-6",children:0===e.issues.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[r.jsx("svg",{className:"w-8 h-8 text-neutral-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),r.jsx("p",{className:"text-neutral-600 text-sm mb-3",children:"No issues in this volume"}),r.jsx("button",{onClick:()=>_(e),className:"px-3 py-1.5 text-sm font-medium text-accent-green border border-accent-green rounded-md hover:bg-accent-green hover:text-white transition-colors",children:"Create First Issue"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.issues.sort((e,s)=>e.issue_number-s.issue_number).map(e=>(0,r.jsxs)("div",{className:"border border-neutral-200 rounded-lg p-4 hover:bg-neutral-50 transition-colors",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,r.jsxs)("h4",{className:"font-medium text-neutral-900",children:["Issue ",e.issue_number]}),r.jsx("button",{onClick:()=>S(e.id),disabled:g===e.id,className:"text-red-600 hover:text-red-800 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),e.description&&r.jsx("p",{className:"text-sm text-neutral-600 mb-2",children:e.description}),r.jsx("div",{className:"text-xs text-neutral-500",children:e.published_at?(0,r.jsxs)("span",{children:["Published ",M(e.published_at)]}):(0,r.jsxs)("span",{children:["Created ",M(e.created_at)]})})]},e.id))})})]},e.id))}),o&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Create New Volume"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Volume Number"}),r.jsx("input",{type:"number",value:f.volume_number,onChange:e=>v(s=>({...s,volume_number:parseInt(e.target.value)||1})),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-green focus:border-transparent",min:"1",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Year"}),r.jsx("input",{type:"number",value:f.year,onChange:e=>v(s=>({...s,year:parseInt(e.target.value)||new Date().getFullYear()})),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-green focus:border-transparent",min:"2020",max:new Date().getFullYear()+5,required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Description (Optional)"}),r.jsx("textarea",{value:f.description,onChange:e=>v(s=>({...s,description:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-green focus:border-transparent",placeholder:"Brief description of this volume's theme or focus"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{onClick:()=>{d(!1),v({volume_number:new Date().getFullYear()-2019,year:new Date().getFullYear(),description:""})},disabled:h,className:"px-4 py-2 border border-neutral-300 text-neutral-700 rounded-md hover:bg-neutral-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"}),r.jsx("button",{onClick:k,disabled:h||!f.volume_number||!f.year,className:"px-4 py-2 bg-accent-green text-white rounded-md hover:bg-accent-green/80 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:h?"Creating...":"Create Volume"})]})]})}),c&&m&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-neutral-900 mb-4",children:["Create New Issue for Volume ",m.volume_number]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Issue Number"}),r.jsx("input",{type:"number",value:w.issue_number,onChange:e=>N(s=>({...s,issue_number:parseInt(e.target.value)||1})),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-green focus:border-transparent",min:"1",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Description (Optional)"}),r.jsx("textarea",{value:w.description,onChange:e=>N(s=>({...s,description:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-green focus:border-transparent",placeholder:"Brief description of this issue's theme or special focus"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{onClick:()=>{u(!1),x(null),N({issue_number:1,volume_id:"",description:""})},disabled:h,className:"px-4 py-2 border border-neutral-300 text-neutral-700 rounded-md hover:bg-neutral-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"}),r.jsx("button",{onClick:C,disabled:h||!w.issue_number,className:"px-4 py-2 bg-accent-green text-white rounded-md hover:bg-accent-green/80 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:h?"Creating...":"Create Issue"})]})]})})]})},f=()=>{let[e,s]=(0,a.useState)([]),[t,n]=(0,a.useState)([]),[l,i]=(0,a.useState)(null),[o,d]=(0,a.useState)(!0),[c,u]=(0,a.useState)(null),[m,x]=(0,a.useState)(!1),[h,b]=(0,a.useState)(null),[g,j]=(0,a.useState)(!1),[f,v]=(0,a.useState)(""),[w,N]=(0,a.useState)(""),[y,k]=(0,a.useState)({title:"",abstract:"",authors:[],keywords:[]});(0,a.useEffect)(()=>{C()},[]),(0,a.useEffect)(()=>{L()},[e,f,w]);let C=async()=>{try{d(!0),u(null);let e=await p.$.getPublishedArticles(1,1e3);e.articles&&s(e.articles.sort((e,s)=>new Date(s.published_at).getTime()-new Date(e.published_at).getTime()))}catch(e){u(e instanceof Error?e.message:"Failed to load articles")}finally{d(!1)}},L=()=>{let s=e;f&&(s=s.filter(e=>e.title.toLowerCase().includes(f.toLowerCase())||e.authors.some(e=>e.toLowerCase().includes(f.toLowerCase()))||e.abstract.toLowerCase().includes(f.toLowerCase())||e.keywords.some(e=>e.toLowerCase().includes(f.toLowerCase())))),""!==w&&(s=s.filter(e=>e.volume_number===w)),n(s)},S=e=>{i(e),k({title:e.title,abstract:e.abstract,authors:[...e.authors],keywords:[...e.keywords]}),j(!0)},_=async()=>{if(l)try{x(!0),u(null);let e=await p.$.updateArticle(l.id,{title:y.title,abstract:y.abstract,authors:y.authors,keywords:y.keywords});e.article&&(s(s=>s.map(s=>s.id===l.id?{...s,...e.article}:s)),j(!1),i(null))}catch(e){u(e instanceof Error?e.message:"Failed to update article")}finally{x(!1)}},M=async e=>{if(confirm("Are you sure you want to delete this article? This action cannot be undone."))try{b(e),u(null),await p.$.deleteArticle(e),s(s=>s.filter(s=>s.id!==e))}catch(e){u(e instanceof Error?e.message:"Failed to delete article")}finally{b(null)}},A=e=>new Date(e).toLocaleDateString(),$=e=>0===e.length?"Unknown Author":1===e.length?e[0]:2===e.length?`${e[0]} and ${e[1]}`:`${e[0]} et al.`,E=()=>Array.from(new Set(e.map(e=>e.volume_number))).sort((e,s)=>s-e);return o?(0,r.jsxs)("div",{className:"flex items-center justify-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-green"}),r.jsx("span",{className:"ml-3 text-neutral-600",children:"Loading articles..."})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg border border-neutral-200 shadow-sm",children:(0,r.jsxs)("div",{className:"px-6 py-4 border-b border-neutral-200 bg-gradient-to-r from-purple-50 to-white",children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold text-neutral-900 flex items-center",children:[r.jsx("svg",{className:"w-6 h-6 mr-3 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Article Metadata Management"]}),r.jsx("p",{className:"text-neutral-600 mt-1",children:"Edit and manage published article metadata"})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("div",{className:"bg-white rounded-lg border border-neutral-200 p-6 shadow-sm",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 bg-accent-green/10 rounded-full",children:r.jsx("svg",{className:"w-6 h-6 text-accent-green",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-neutral-600",children:"Published Articles"}),r.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:e.length})]})]})}),r.jsx("div",{className:"bg-white rounded-lg border border-neutral-200 p-6 shadow-sm",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:r.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-neutral-600",children:"Active Volumes"}),r.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:E().length})]})]})}),r.jsx("div",{className:"bg-white rounded-lg border border-neutral-200 p-6 shadow-sm",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:r.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-neutral-600",children:"Filtered Results"}),r.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:t.length})]})]})})]}),r.jsx("div",{className:"bg-white rounded-lg border border-neutral-200 shadow-sm p-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Search Articles"}),r.jsx("input",{type:"text",placeholder:"Search by title, author, abstract, or keywords...",value:f,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-green focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Filter by Volume"}),(0,r.jsxs)("select",{value:w,onChange:e=>N(e.target.value?parseInt(e.target.value):""),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-green focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Volumes"}),E().map(e=>(0,r.jsxs)("option",{value:e,children:["Volume ",e]},e))]})]})]})}),c&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 text-red-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("p",{className:"text-red-800",children:c})]})}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-neutral-200 shadow-sm",children:[r.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:(0,r.jsxs)("h3",{className:"text-lg font-semibold text-neutral-900",children:["Published Articles (",t.length,")"]})}),0===t.length?(0,r.jsxs)("div",{className:"p-8 text-center",children:[r.jsx("svg",{className:"w-12 h-12 text-neutral-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),r.jsx("p",{className:"text-neutral-600",children:0===e.length?"No articles published yet":"No articles match your search criteria"})]}):r.jsx("div",{className:"divide-y divide-neutral-200",children:t.map(e=>r.jsx("div",{className:"p-6 hover:bg-neutral-50 transition-colors",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h4",{className:"text-lg font-medium text-neutral-900 truncate",children:e.title}),r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-accent-green/10 text-green-800 border border-green-200",children:"Published"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-neutral-600 mb-3",children:[(0,r.jsxs)("span",{children:["by ",$(e.authors)]}),r.jsx("span",{children:"•"}),(0,r.jsxs)("span",{children:["Vol. ",e.volume_number,", Issue ",e.issue_number]}),r.jsx("span",{children:"•"}),(0,r.jsxs)("span",{children:["Published ",A(e.published_at)]})]}),r.jsx("p",{className:"text-sm text-neutral-700 line-clamp-2 mb-3",children:e.abstract}),e.keywords&&e.keywords.length>0&&(0,r.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.keywords.slice(0,5).map((e,s)=>r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-neutral-100 text-neutral-800",children:e},s)),e.keywords.length>5&&(0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-neutral-100 text-neutral-800",children:["+",e.keywords.length-5," more"]})]})]}),(0,r.jsxs)("div",{className:"ml-6 flex-shrink-0 flex items-center space-x-2",children:[e.pdf_url&&r.jsx("a",{href:e.pdf_url,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1.5 text-sm font-medium text-neutral-700 border border-neutral-300 rounded-md hover:bg-neutral-50 transition-colors",children:"View PDF"}),r.jsx("button",{onClick:()=>S(e),className:"px-3 py-1.5 text-sm font-medium text-accent-green border border-accent-green rounded-md hover:bg-accent-green hover:text-white transition-colors",children:"Edit Metadata"}),r.jsx("button",{onClick:()=>M(e.id),disabled:h===e.id,className:"px-3 py-1.5 text-sm font-medium text-red-700 border border-red-300 rounded-md hover:bg-red-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:h===e.id?(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b border-red-700 mr-1"}),"Deleting..."]}):"Delete"})]})]})},e.id))})]}),g&&l&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Edit Article Metadata"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"bg-neutral-50 rounded-lg p-4 border border-neutral-200",children:[(0,r.jsxs)("p",{className:"text-sm text-neutral-600",children:[r.jsx("strong",{children:"Volume:"})," ",l.volume_number,", ",r.jsx("strong",{children:"Issue:"})," ",l.issue_number]}),(0,r.jsxs)("p",{className:"text-sm text-neutral-600",children:[r.jsx("strong",{children:"Published:"})," ",A(l.published_at)]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Title"}),r.jsx("input",{type:"text",value:y.title,onChange:e=>k(s=>({...s,title:e.target.value})),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-green focus:border-transparent",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Abstract"}),r.jsx("textarea",{value:y.abstract,onChange:e=>k(s=>({...s,abstract:e.target.value})),rows:6,className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-green focus:border-transparent",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Authors (one per line)"}),r.jsx("textarea",{value:y.authors.join("\n"),onChange:e=>k(s=>({...s,authors:e.target.value.split("\n").filter(e=>e.trim())})),rows:4,className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-green focus:border-transparent",placeholder:"Enter author names, one per line",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Keywords (comma-separated)"}),r.jsx("input",{type:"text",value:y.keywords.join(", "),onChange:e=>k(s=>({...s,keywords:e.target.value.split(",").map(e=>e.trim()).filter(e=>e)})),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-accent-green focus:border-transparent",placeholder:"Enter keywords separated by commas"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{onClick:()=>{j(!1),i(null)},disabled:m,className:"px-4 py-2 border border-neutral-300 text-neutral-700 rounded-md hover:bg-neutral-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"}),r.jsx("button",{onClick:_,disabled:m||!y.title.trim()||!y.abstract.trim()||0===y.authors.length,className:"px-4 py-2 bg-accent-green text-white rounded-md hover:bg-accent-green/80 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m?(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b border-white mr-2"}),"Updating..."]}):"Update Article"})]})]})})]})},v=()=>{let{user:e}=(0,l.useAuth)(),[s,t]=(0,a.useState)("overview");if(!e)return null;let n=[{id:"overview",name:"Overview",icon:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{id:"submissions",name:"Submissions",icon:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{id:"reviewers",name:"Reviewers",icon:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})},{id:"users",name:"Users",icon:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})},{id:"bulk-ops",name:"Bulk Operations",icon:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})},{id:"publish-articles",name:"Publish Articles",icon:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})},{id:"volumes-issues",name:"Volumes & Issues",icon:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})},{id:"article-metadata",name:"Article Metadata",icon:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}];return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-neutral-50 to-neutral-100",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-neutral-900 via-accent-black to-neutral-800 text-white",children:[r.jsx("div",{className:"px-4 md:px-6 py-8",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:"Editorial Dashboard"}),r.jsx("p",{className:"text-neutral-200 text-lg mb-1",children:"Pan African Journal Of Social Work And Social Policy"}),(0,r.jsxs)("p",{className:"text-neutral-300 text-sm",children:["Welcome, ",e.first_name," ",e.last_name," • ","admin"===e.role?"Administrator":"Editor"]})]}),r.jsx("div",{className:"mt-6 lg:mt-0",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-3 h-3 bg-accent-red rounded-full"}),r.jsx("div",{className:"w-3 h-3 bg-accent-green rounded-full"}),r.jsx("div",{className:"w-3 h-3 bg-white rounded-full"})]})})]})}),r.jsx("div",{className:"border-t border-neutral-700",children:r.jsx("nav",{className:"px-4 md:px-6",children:r.jsx("div",{className:"flex flex-wrap -mb-px",children:n.map(e=>(0,r.jsxs)("button",{onClick:()=>t(e.id),className:`flex items-center space-x-2 py-4 px-4 md:px-6 text-sm font-medium border-b-2 transition-all duration-200 ${s===e.id?"border-accent-green text-accent-green bg-neutral-800/50":"border-transparent text-neutral-300 hover:text-white hover:border-neutral-500"}`,children:[e.icon,r.jsx("span",{className:"hidden sm:inline",children:e.name})]},e.id))})})})]}),(0,r.jsxs)("div",{className:"p-4 md:p-6",children:["overview"===s&&r.jsx(o,{}),"submissions"===s&&r.jsx(x,{}),"reviewers"===s&&r.jsx(m,{}),"users"===s&&r.jsx(h,{}),"bulk-ops"===s&&r.jsx(b,{}),"publish-articles"===s&&r.jsx(g,{}),"volumes-issues"===s&&r.jsx(j,{}),"article-metadata"===s&&r.jsx(f,{})]})]})})};function w(){return r.jsx(n.i1,{allowedRoles:["admin","editor"],children:r.jsx(v,{})})}},4323:(e,s,t)=>{"use strict";t.d(s,{i1:()=>n});var r=t(2295);t(3729);var a=t(2656);let n=({children:e,allowedRoles:s,fallback:t,redirectTo:n="/login"})=>{let{user:l,isLoading:i,isAuthenticated:o}=(0,a.useAuth)();return i?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-red-600"})}):o?s&&l&&!s.includes(l.role)?t?r.jsx(r.Fragment,{children:t}):r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:r.jsx("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),(0,r.jsxs)("p",{className:"text-gray-600 mb-6",children:["You don't have permission to access this page.",r.jsx("br",{}),"Required roles: ",s.join(", "),r.jsx("br",{}),"Your role: ",l.role]}),r.jsx("button",{onClick:()=>window.history.back(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Go Back"})]})})}):r.jsx(r.Fragment,{children:e}):t?r.jsx(r.Fragment,{children:t}):r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:r.jsx("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Authentication Required"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be logged in to access this page."}),r.jsx("a",{href:n,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Go to Login"})]})})})}},4153:(e,s,t)=>{"use strict";t.d(s,{$:()=>l});let r="http://localhost:5000",a=()=>{let e=localStorage.getItem("token");return{Authorization:e?`Bearer ${e}`:"","Content-Type":"application/json"}},n=async e=>{if(!e.ok)throw Error((await e.json().catch(()=>({message:"Unknown error"}))).message||`HTTP error! status: ${e.status}`);return e.json()},l={async getPublishedArticles(e=1,s=10,t){let a=new URLSearchParams({page:e.toString(),limit:s.toString()});return t&&Object.entries(t).forEach(([e,s])=>{void 0!==s&&""!==s&&a.append(e,s.toString())}),n(await fetch(`${r}/articles?${a}`,{method:"GET",headers:{"Content-Type":"application/json"}}))},getArticleById:async e=>n(await fetch(`${r}/articles/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}})),async searchArticles(e,s=1,t=10){let a=new URLSearchParams({q:e,page:s.toString(),limit:t.toString()});return n(await fetch(`${r}/articles/search?${a}`,{method:"GET",headers:{"Content-Type":"application/json"}}))},getVolumes:async()=>n(await fetch(`${r}/volumes`,{method:"GET",headers:{"Content-Type":"application/json"}})),getVolumeById:async e=>n(await fetch(`${r}/volumes/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}})),getIssueById:async e=>n(await fetch(`${r}/issues/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}})),getArticlesByVolumeAndIssue:async(e,s)=>n(await fetch(`${r}/articles/volume/${e}/issue/${s}`,{method:"GET",headers:{"Content-Type":"application/json"}})),createVolume:async e=>n(await fetch(`${r}/volumes`,{method:"POST",headers:a(),body:JSON.stringify(e)})),createIssue:async e=>n(await fetch(`${r}/issues`,{method:"POST",headers:a(),body:JSON.stringify(e)})),publishArticle:async e=>n(await fetch(`${r}/articles`,{method:"POST",headers:a(),body:JSON.stringify(e)})),updateArticle:async(e,s)=>n(await fetch(`${r}/articles/${e}`,{method:"PUT",headers:a(),body:JSON.stringify(s)})),deleteArticle:async e=>n(await fetch(`${r}/articles/${e}`,{method:"DELETE",headers:a()})),updateVolume:async(e,s)=>n(await fetch(`${r}/volumes/${e}`,{method:"PUT",headers:a(),body:JSON.stringify(s)})),updateIssue:async(e,s)=>n(await fetch(`${r}/issues/${e}`,{method:"PUT",headers:a(),body:JSON.stringify(s)})),deleteVolume:async e=>n(await fetch(`${r}/volumes/${e}`,{method:"DELETE",headers:a()})),deleteIssue:async e=>n(await fetch(`${r}/issues/${e}`,{method:"DELETE",headers:a()})),getSubmissionsReadyForPublication:async()=>n(await fetch(`${r}/submissions/ready-for-publication`,{method:"GET",headers:a()}))}},1554:(e,s,t)=>{"use strict";t.d(s,{C:()=>l});let r="http://localhost:5000",a=()=>{let e=localStorage.getItem("token");return{Authorization:e?`Bearer ${e}`:""}},n=async e=>{if(!e.ok)throw Error((await e.json().catch(()=>({message:"Unknown error"}))).message||`HTTP error! status: ${e.status}`);return e.json()},l={async createSubmission(e,s){let t=new FormData;return t.append("title",e.title),t.append("abstract",e.abstract),t.append("keywords",JSON.stringify(e.keywords)),t.append("co_authors",JSON.stringify(e.co_authors)),t.append("manuscript",s),n(await fetch(`${r}/submissions`,{method:"POST",headers:a(),body:t}))},getMySubmissions:async()=>n(await fetch(`${r}/submissions/my`,{method:"GET",headers:{...a(),"Content-Type":"application/json"}})),getAllSubmissions:async()=>n(await fetch(`${r}/submissions/all`,{method:"GET",headers:{...a(),"Content-Type":"application/json"}})),getSubmissionById:async e=>n(await fetch(`${r}/submissions/${e}`,{method:"GET",headers:{...a(),"Content-Type":"application/json"}})),updateSubmissionStatus:async(e,s)=>n(await fetch(`${r}/submissions/${e}/status`,{method:"PUT",headers:{...a(),"Content-Type":"application/json"},body:JSON.stringify(s)})),async updateSubmissionManuscript(e,s){let t=new FormData;return t.append("manuscript",s),n(await fetch(`${r}/submissions/${e}/manuscript`,{method:"PUT",headers:a(),body:t}))},getSubmissionStatistics:async()=>n(await fetch(`${r}/submissions/statistics`,{method:"GET",headers:{...a(),"Content-Type":"application/json"}})),searchSubmissions:async e=>n(await fetch(`${r}/submissions/search?q=${encodeURIComponent(e)}`,{method:"GET",headers:{...a(),"Content-Type":"application/json"}})),getSubmissionsPendingReview:async()=>n(await fetch(`${r}/submissions/pending-review`,{method:"GET",headers:{...a(),"Content-Type":"application/json"}})),async uploadRevision(e,s){return this.updateSubmissionManuscript(e,s)},deleteSubmission:async e=>n(await fetch(`${r}/submissions/${e}`,{method:"DELETE",headers:{...a(),"Content-Type":"application/json"}}))}},5557:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>a,default:()=>l});let r=(0,t(6843).createProxy)(String.raw`C:\Users\Trinity\Pan-Afri\src\app\admin\page.tsx`),{__esModule:a,$$typeof:n}=r,l=r.default}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[891,344],()=>t(9213));module.exports=r})();